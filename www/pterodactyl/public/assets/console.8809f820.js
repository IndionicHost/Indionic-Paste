(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{295:function(e,t,n){"use strict";n.r(t);var r=n(24),o=n.n(r),i=n(4),a=n.n(i),c=n(11),l=n.n(c),s=n(1),d=n(0),u=n.n(d),m=n(207),f=n(218),h=n(219),w=n(220),b=n(221),g=n(43),p=n.n(g),v=n(44),y=n.n(v),E=function(){function e(){p()(this,e),l()(this,"terminal",new m.Terminal),l()(this,"element",void 0)}return y()(e,[{key:"activate",value:function(e){var t=this;this.terminal=e,this.terminal.onScroll((function(){t.isScrolledDown()&&t.hide()})),this.terminal.onLineFeed((function(){t.isScrolledDown()||t.show()})),this.show()}},{key:"dispose",value:function(){}},{key:"show",value:function(){var e=this;this.terminal&&this.terminal.element&&(this.element?this.element.style.visibility="visible":(this.terminal.element.style.position="relative",this.element=document.createElement("div"),this.element.innerHTML='<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bell" class="svg-inline--fa fa-bell fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"></path></svg>',this.element.style.position="absolute",this.element.style.right="1.5rem",this.element.style.bottom=".5rem",this.element.style.padding=".5rem",this.element.style.fontSize="1.25em",this.element.style.boxShadow="0 2px 8px #000",this.element.style.backgroundColor="#252526",this.element.style.zIndex="999",this.element.style.cursor="pointer",this.element.addEventListener("click",(function(){e.terminal.scrollToBottom()})),this.terminal.element.appendChild(this.element)))}},{key:"hide",value:function(){this.element&&(this.element.style.visibility="hidden")}},{key:"isScrolledDown",value:function(){return this.terminal.buffer.active.viewportY===this.terminal.buffer.active.baseY}}]),e}(),S=n(21),k=n(2),C=n(45),O=(n(222),n(38)),T=n(58),_=n(98),x=n(29),A=n(8),F=n(5);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var B={disableStdin:!0,cursorStyle:"underline",allowTransparency:!1,fontSize:12,fontFamily:"Menlo, Monaco, Consolas, monospace",rows:40,theme:{background:"rgb(0,0,0)",cursor:"transparent",black:"hsl(210, 27%, 10%)".toString(),red:"#E54B4B",green:"#9ECE58",yellow:"#FAED70",blue:"#396FE2",magenta:"#BB80B3",cyan:"#2DDAFD",white:"#d0d0d0",brightBlack:"rgba(255, 255, 255, 0.2)",brightRed:"#FF5370",brightGreen:"#C3E88D",brightYellow:"#FFCB6B",brightBlue:"#82AAFF",brightMagenta:"#C792EA",brightCyan:"#89DDFF",brightWhite:"#ffffff",selection:"#FAF089"}},D=s.c.div.withConfig({componentId:"itaf37-0"})(["&::-webkit-scrollbar{width:8px;}&::-webkit-scrollbar-thumb{",";}"],{"--tw-bg-opacity":"1",backgroundColor:"rgba(11, 11, 31, var(--tw-bg-opacity))"}),M=s.c.input.withConfig({componentId:"itaf37-1"})([""," &:focus{",";}"],{fontSize:"0.875rem",lineHeight:"1.25rem",transitionProperty:"background-color, border-color, color, fill, stroke",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",paddingLeft:"0px",paddingRight:"0.5rem",backgroundColor:"transparent",borderWidth:"0px",borderBottomWidth:"2px",borderColor:"transparent",color:"#E5E8EBFF",padding:"0.5rem",width:"100%",":focus":{"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"}},{"--tw-border-opacity":"1",borderColor:"rgba(8.670000000000007, 154.326, 164.73000000000002, var(--tw-border-opacity))"}),R=s.c.div.withConfig({componentId:"itaf37-2"})(["",""],(function(e){return e._css})),L=s.c.div.withConfig({componentId:"itaf37-3"})(["",""],(function(e){return e._css2})),P=s.c.div.withConfig({componentId:"itaf37-4"})(["",""],(function(e){return e._css3})),I=s.c.div.withConfig({componentId:"itaf37-5"})(["",""],(function(e){return e._css4})),z=s.c.div.withConfig({componentId:"itaf37-6"})(["",""],(function(e){return e._css5})),H=s.c.button.withConfig({componentId:"itaf37-7"})(["",""],(function(e){return e._css6})),W=Object(s.c)(A.a).withConfig({componentId:"itaf37-8"})(["",""],(function(e){return e._css7})),N=s.c.button.withConfig({componentId:"itaf37-9"})(["",""],(function(e){return e._css8})),U=s.c.svg.withConfig({componentId:"itaf37-10"})(["",""],(function(e){return e._css9}));t.default=function(){var e="[1m[33mcontainer@pterodactyl~ [0m",t=Object(d.useRef)(null),n=Object(d.useMemo)((function(){return new m.Terminal(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},B))}),[]),r=new f.FitAddon,i=new h.SearchAddon,c=new w.a({searchAddon:i}),s=new b.WebLinksAddon,g=new E,p=k.a.useStoreState((function(e){return e.socket})),v=p.connected,y=p.instance,A=Object(C.a)(["control.console"]),K=a()(A,1)[0],G=k.a.useStoreState((function(e){return e.server.data.id})),Y=k.a.useStoreState((function(e){return e.server.data.isTransferring})),J=Object(_.a)("".concat(G,":command_history"),[]),$=a()(J,2),V=$[0],q=$[1],Q=Object(d.useState)(-1),X=a()(Q,2),Z=X[0],ee=X[1],te=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.writeln((r?e:"")+t.replace(/(?:\r\n|\r|\n)$/im,"")+"[0m")},ne=function(t){switch(t){case"failure":return void n.writeln(e+"Transfer has failed.[0m");case"archive":n.writeln(e+"Server has been archived successfully, attempting connection to target node..[0m")}},re=function(t){return n.writeln(e+"[1m[41m"+t.replace(/(?:\r\n|\r|\n)$/im,"")+"[0m")},oe=function(t){return n.writeln(e+"Server marked as "+t+"...[0m")};Object(d.useEffect)((function(){v&&t.current&&!n.element&&(n.loadAddon(r),n.loadAddon(i),n.loadAddon(c),n.loadAddon(s),n.loadAddon(g),n.open(t.current),r.fit(),n.attachCustomKeyEventHandler((function(e){return(e.ctrlKey||e.metaKey)&&"c"===e.key?(document.execCommand("copy"),!1):(e.ctrlKey||e.metaKey)&&"f"===e.key?(e.preventDefault(),c.show(),!1):("Escape"===e.key&&c.hidden(),!0)})))}),[n,v]),Object(O.a)("resize",Object(T.debounce)((function(){n.element&&r.fit()}),100)),Object(d.useEffect)((function(){var e,t=(e={},l()(e,x.a.STATUS,oe),l()(e,x.a.CONSOLE_OUTPUT,te),l()(e,x.a.INSTALL_OUTPUT,te),l()(e,x.a.TRANSFER_LOGS,te),l()(e,x.a.TRANSFER_STATUS,ne),l()(e,x.a.DAEMON_MESSAGE,(function(e){return te(e,!0)})),l()(e,x.a.DAEMON_ERROR,re),e);return v&&y&&(Y||n.clear(),Object.keys(t).forEach((function(e){y.addListener(e,t[e])})),y.send(x.b.SEND_LOGS)),function(){y&&Object.keys(t).forEach((function(e){y.removeListener(e,t[e])}))}}),[v,y]);return u.a.createElement(R,{_css:window.location.href.includes("/console")?{fontSize:"0.75rem",lineHeight:"1rem",fontFamily:'"IBM Plex Mono", "Source Code Pro", SourceCodePro, Menlo, Monaco, Consolas, monospace',position:"relative",width:"100%",height:"100vh",overflow:"hidden"}:{fontSize:"0.75rem",lineHeight:"1rem",fontFamily:'"IBM Plex Mono", "Source Code Pro", SourceCodePro, Menlo, Monaco, Consolas, monospace',position:"relative",borderWidth:"2px",borderBottomWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(54, 53, 121, var(--tw-border-opacity))"}},u.a.createElement(S.a,{visible:!v,size:"large"}),u.a.createElement(L,{style:{minHeight:"25rem"},_css2:[{borderTopLeftRadius:"0.25rem",borderTopRightRadius:"0.25rem",padding:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgba(0, 0, 0, var(--tw-bg-opacity))",width:"100%"},!K&&{borderBottomLeftRadius:"0.25rem",borderBottomRightRadius:"0.25rem"}]},u.a.createElement(D,{style:{height:window.location.href.includes("/console")?"calc(100% - 54px)":"auto"},id:"terminal",ref:t})),K&&u.a.createElement(P,{_css3:{borderBottomLeftRadius:"0.25rem",borderBottomRightRadius:"0.25rem","--tw-bg-opacity":"1",backgroundColor:"rgba(11, 11, 31, var(--tw-bg-opacity))",color:"#E5E8EBFF",display:"flex",alignItems:"baseline"}},u.a.createElement(I,{_css4:{flexShrink:"0",padding:"0.5rem",fontWeight:"700"}},"/"),u.a.createElement(z,{style:{width:"96%"},_css5:{display:"inline-block"}},u.a.createElement(M,{type:"text",placeholder:"Type a command...","aria-label":"Console command input.",disabled:!y||!v,onKeyDown:function(e){if("ArrowUp"===e.key){var t=Math.min(Z+1,V.length-1);ee(t),e.currentTarget.value=V[t]||"",e.preventDefault()}if("ArrowDown"===e.key){var n=Math.max(Z-1,-1);ee(n),e.currentTarget.value=V[n]||""}var r=e.currentTarget.value;"Enter"===e.key&&r.length>0&&(q((function(e){return[r].concat(o()(e)).slice(0,32)})),ee(-1),y&&y.send("send command",r),e.currentTarget.value="")}})),u.a.createElement(H,{onClick:function(){n.clear()},_css6:{margin:"auto",marginRight:"0.5rem",display:"inline-block"}},u.a.createElement(W,{icon:F.B,_css7:{height:"1.25rem",width:"1.25rem"}})),u.a.createElement(N,{hidden:window.location.href.includes("/console"),onClick:function(){window.open(window.location.href+"/console","Server Console","height=1000,width=1500")},_css8:{margin:"auto",marginRight:"0.5rem",display:"inline-block"}},u.a.createElement(U,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",_css9:{margin:"auto",width:"1.5rem",height:"1.5rem"}},u.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})))))}}}]);